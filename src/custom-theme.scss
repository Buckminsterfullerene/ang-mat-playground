@use '@angular/material' as mat;
@use './styles/material-theme/_theme-colors' as colors;

@include mat.core();

// Define font family
$font-family-primary: 'Roboto', sans-serif;

// Define app-level variables bridge mixin
@mixin app-variables() {
  --mat-app-background-color: var(--mat-sys-surface);
  --mat-app-text-color: var(--mat-sys-on-surface);
}

// Light Theme Definition
$light-config: (
  color: (
    theme-type: light,
    primary: colors.$primary-palette,
    tertiary: colors.$tertiary-palette
  ),
  typography: (
    brand-family: $font-family-primary,
    use-system-variables: true
  )
);

// Dark Theme Definition
$dark-config: (
  color: (
    theme-type: dark,
    primary: colors.$primary-palette,
    tertiary: colors.$tertiary-palette
  ),
  typography: (
    brand-family: $font-family-primary,
    use-system-variables: true
  )
);

// Apply themes based on your body classes
body.light {
  @include mat.theme($light-config);
  @include app-variables();
  color-scheme: light;
}

body.dark {
  @include mat.theme($dark-config);
  @include app-variables();
  color-scheme: dark;
}

// Global defaults for body
body {
  margin: 0;
  min-height: 100vh;  // Fallback for browsers that do not support dvh
  min-height: 100dvh;
  background-color: var(--mat-sys-surface);
  color: var(--mat-sys-on-surface);
  font-family: var(--app-font-family-primary, $font-family-primary);
  font-size: var(--mat-sys-body-medium-size);
  font-weight: var(--mat-sys-body-medium-weight);
  line-height: var(--mat-sys-body-medium-line-height);
  transition: background-color 0.3s, color 0.3s; // Smooth transition
}

.mat-icon.material-symbols-outlined {
  font-family: 'Material Symbols Outlined';
}
